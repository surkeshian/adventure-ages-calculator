(function(e){function t(t){for(var r,i,o=t[0],u=t[1],l=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);c&&c(t);while(p.length)p.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,o=1;o<a.length;o++){var u=a[o];0!==s[u]&&(r=!1)}r&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},s={app:0},n=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/adventure-ages-calculator/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var c=u;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("9d69")},"47a2":function(e,t,a){"use strict";a("5b77")},"5b77":function(e,t,a){},"9d12":function(e,t,a){"use strict";a("cf2a")},"9d69":function(e,t,a){"use strict";a.r(t);a("62fe"),a("4b8f");var r=a("dc32"),s=a("a2d7");a("dee3"),a("3bff");r["default"].use(s["a"]);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("b-navbar",{staticClass:"mb-2",attrs:{variant:"dark",type:"dark"}},[a("b-container",[a("b-navbar-brand",[e._v("Adventure Ages Calculator")]),a("b-navbar-nav",[a("b-nav-item",{directives:[{name:"b-modal",rawName:"v-b-modal.help-modal",modifiers:{"help-modal":!0}}]},[a("svg",{staticClass:"help-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}}),a("path",{attrs:{d:"M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"}})])])],1)],1)],1),a("router-view"),a("div",{staticStyle:{flex:"1"}}),a("footer",{staticClass:"mb-2"},[a("hr",{staticClass:"mb-2"}),a("b-container",[a("b-row",[a("b-col",[e._v("Project on "),a("a",{attrs:{href:"https://github.com/surkeshian/adventure-ages-calculator"}},[e._v("Github")])]),a("b-col",{staticClass:"text-right"},[e._v("Like this tool? "),a("a",{directives:[{name:"b-modal",rawName:"v-b-modal.donate-modal",modifiers:{"donate-modal":!0}}],attrs:{href:"#"}},[e._v("Donate")])])],1)],1)],1),a("b-modal",{attrs:{id:"help-modal","ok-only":"",title:"Help"}},[a("p",[e._v("Enter numbers in the fields as they appear in the game e.g. "),a("b",{staticClass:"no-break"},[e._v("12 AA")]),e._v(".")]),a("p",[e._v("Enter a target (e.g. for a mission or population upgrade) to see how long it will take to reach that target.")]),a("p",[e._v("Click on a field and:")]),a("ul",[a("li",[e._v("Scroll to go up/down by 1 of the current power e.g. "),a("span",{staticClass:"no-break"},[a("b",[e._v("12 AA")]),e._v(" -> "),a("b",[e._v("13 AA")])])]),a("li",[e._v("Shift + scroll to go up/down by 10 e.g. "),a("span",{staticClass:"no-break"},[a("b",[e._v("12 AA")]),e._v(" -> "),a("b",[e._v("22 AA")])])]),a("li",[e._v("Alt + scroll to go up/down by 0.1 e.g. "),a("span",{staticClass:"no-break"},[a("b",[e._v("12 AA")]),e._v(" -> "),a("b",[e._v("12.1 AA")])])]),a("li",[e._v("Ctrl + scroll to go up/down by a power e.g. "),a("span",{staticClass:"no-break"},[a("b",[e._v("12 AA")]),e._v(" -> "),a("b",[e._v("12 BB")])])])])]),a("b-modal",{attrs:{title:"Donate","ok-only":"",id:"donate-modal"}},[a("p",[e._v("This tool is completely free to use however you like, but if you want to you could "),a("a",{attrs:{href:"https://www.buymeacoffee.com/surkeshian",target:"_blank"}},[e._v("buy me a coffee")]),e._v(" or send me some Bitcoin: bc1qy86xl64ge89p6vdggzv4es4cldw5m23cvvsr2z")])])],1)},i=[],o=(a("9d12"),a("a5b0")),u={},l=Object(o["a"])(u,n,i,!1,null,null,null),c=l.exports,d=a("beaa"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("b-container",[a("b-row",[a("b-col",[a("b-select",{attrs:{options:e.ageOptions},on:{change:function(t){return e.onSelectAge(e.age1,"SelectedAge1")}},model:{value:e.age1,callback:function(t){e.age1=t},expression:"age1"}}),e.age1?a("age-calculator",{attrs:{ageData:e.age1,advanceBy:e.advanceBy}}):e._e()],1),a("b-col",{staticClass:"d-none d-lg-block"},[a("b-select",{attrs:{options:e.ageOptions},on:{change:function(t){return e.onSelectAge(e.age2,"SelectedAge2")}},model:{value:e.age2,callback:function(t){e.age2=t},expression:"age2"}}),e.age2?a("age-calculator",{attrs:{ageData:e.age2,advanceBy:e.advanceBy}}):e._e()],1)],1)],1)],1)},h=[],f=a("98e6"),b=(a("7f20"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-form",{staticClass:"container-fluid mt-2"},[a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Current quantity","label-for":e.getId("current-quantity-input")}},[a("ad-number-input",{attrs:{size:"sm",id:e.getId("current-quantity-input")},on:{input:e.onFieldInput},model:{value:e.baseResourceQuantity,callback:function(t){e.baseResourceQuantity=t},expression:"baseResourceQuantity"}})],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Luck %","label-for":e.getId("crit-rate-input")}},[a("b-input",{attrs:{size:"sm",id:e.getId("crit-rate-input")},on:{input:e.onFieldInput},model:{value:e.critRatePercent,callback:function(t){e.critRatePercent=t},expression:"critRatePercent"}})],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Bonus","label-for":e.getId("bonus-input")}},[a("b-input",{attrs:{size:"sm",id:e.getId("bonus-input")},on:{input:e.onFieldInput},model:{value:e.critBonus,callback:function(t){e.critBonus=t},expression:"critBonus"}})],1)],1)],1),a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Target","label-for":e.getId("target-input")}},[a("ad-number-input",{attrs:{size:"sm",id:e.getId("target-input")},on:{input:e.onFieldInput},model:{value:e.targetQuantity,callback:function(t){e.targetQuantity=t},expression:"targetQuantity"}})],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Time to target"}},[a("div",{staticClass:"p-1 time-to-target"},[e._v(e._s(e.timeToTarget))])])],1)],1),a("b-row",[a("b-col",[a("b-button",{staticClass:"mr-2",attrs:{variant:"outline-danger",size:"sm"},on:{click:function(t){return e.multiplyAll(.5)}}},[e._v("All ÷2")]),a("b-button",{attrs:{variant:"outline-success",size:"sm"},on:{click:function(t){return e.multiplyAll(2)}}},[e._v("All ×2")])],1),a("b-col",{staticClass:"text-right"},[a("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:e.reset}},[e._v("Reset")])],1)],1)],1),a("b-container",{attrs:{fluid:""}},[a("b-row",{staticClass:"column-header mt-3"},[a("b-col",[e._v("Output / sec")]),a("b-col",[e._v("Quantity")]),a("hr")],1)],1),e._l(e.resources,(function(t){return a("b-form",{key:t.name,staticClass:"container-fluid mt-1"},[a("label",{staticClass:"mb-1 bold font-weight-bold",staticStyle:{"font-size":"0.9rem"}},[e._v(e._s(t.name))]),a("b-row",[a("b-col",{staticClass:"d-flex",attrs:{cols:"7"}},[a("b-button",{attrs:{tabindex:"-1",size:"sm",variant:"outline-danger"},on:{click:function(a){return e.divideOutput(t)}}},[e._v(" ÷"+e._s(e.individualMultiplier)+" ")]),a("ad-number-input",{staticClass:"mx-2",attrs:{size:"sm",label:"Output","aria-label":t.name+" output per second"},model:{value:t.output,callback:function(a){e.$set(t,"output",a)},expression:"resource.output"}}),a("b-button",{attrs:{tabindex:"-1",size:"sm",variant:"outline-success"},on:{click:function(a){return e.multiplyOutput(t)}}},[e._v(" ×"+e._s(e.individualMultiplier)+" ")])],1),a("b-col",{attrs:{cols:"5"}},[a("ad-number-input",{attrs:{size:"sm","aria-label":"Number of "+t.name},model:{value:t.quantity,callback:function(a){e.$set(t,"quantity",a)},expression:"resource.quantity"}})],1)],1)],1)}))],2)}),v=[];a("ea8a"),a("44b8"),a("658a"),a("4baf"),a("3315"),a("6b06"),a("aad7");function m(e){if("number"===typeof e)return e;var t=e.toUpperCase().match(/(^[0-9]+\.?[0-9]*) ?([a-zA-Z]*)/);if(null===t)return 0;var a=parseFloat(t[1]),r=t[2];switch(r){case"":return a;case"K":return 1e3*a;case"M":return 1e6*a;case"B":return 1e9*a;case"T":return 1e12*a}if(2==r.length&&r[0]==r[1]){var s=3*(r[0].charCodeAt()-60);return a*Math.pow(10,s)}if(3==r.length&&r[0]==r[1]&&r[0]==r[2]){var n=3*(r[0].charCodeAt()-34);return a*Math.pow(10,n)}if(4==r.length&&r[0]==r[1]&&r[0]==r[2]&&r[0]==r[3]){var i=3*(r[0].charCodeAt()-8);return a*Math.pow(10,i)}return 0}function g(e){if(e<1e3)return e.toFixed(2);var t,a=0;while(e>999.999)e/=1e3,a+=3;switch(a){case 3:t="K";break;case 6:t="M";break;case 9:t="B";break;case 12:t="T";break}if(a>=15&&a<=90){var r=String.fromCharCode(a/3+60);t=r+r}else if(a>90&&a<=168){var s=String.fromCharCode(a/3+34);t=s+s+s}else if(a>168){var n=String.fromCharCode(a/3+8);t=n+n+n+n}return"".concat(e.toFixed(2)," ").concat(t)}function y(e){for(var t=1,a=2;a<=e;a++)t*=a;return t}var w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-input",e._b({on:{focus:function(t){e.focused=!0},blur:function(t){e.focused=!1},mousewheel:e.onMousewheel,change:e.onChange},model:{value:e.displayValue,callback:function(t){e.displayValue=t},expression:"displayValue"}},"b-input",e.inputAttrs,!1))],1)},A=[],_={name:"AdNumberInput",props:{value:Number},data:function(){return{internalValue:this.value,displayValue:g(this.value),focused:!1}},computed:{inputAttrs:function(){var e=this.$attrs;return"value"in e&&delete e.value,e},currentMagnitude:function(){var e=this.internalValue,t=0;while(e>999.999)e/=1e3,t+=3;return Math.pow(10,t)}},watch:{value:function(e){this.internalValue=e,this.focused||this.formatDisplayValue()},internalValue:function(){this.$emit("input",this.internalValue)},displayValue:function(e){this.internalValue=m(this.displayValue)}},methods:{formatDisplayValue:function(){this.displayValue=g(this.internalValue)},onChange:function(){this.formatDisplayValue()},onMousewheel:function(e){if(this.focused){if(e.preventDefault(),e.ctrlKey)e.deltaY<0&&this.internalValue<1?this.internalValue=1e3:e.deltaY<0?this.internalValue*=1e3:this.internalValue<1e3?this.internalValue=0:this.internalValue/=1e3;else{var t=this.currentMagnitude;if(e.shiftKey&&(t*=10),e.altKey&&(t/=10),e.deltaY<0)this.internalValue+=t;else{var a=Math.max(0,this.internalValue-t);this.internalValue=a}}this.formatDisplayValue()}}}},R=_,C=Object(o["a"])(R,w,A,!1,null,null,null),k=C.exports,N={name:"AgeCalculator",components:{AdNumberInput:k},props:{ageData:Object,advanceBy:Number},data:function(){return{resources:[],baseResourceQuantity:0,baseResourceAdvancedQuantity:"0",critRate:0,critBonus:256,timeToTarget:"No target",targetQuantity:0,id:Math.random().toString(36).substr(2,5)}},created:function(){this.setNewAge()},methods:{setNewAge:function(){this.resources=this.ageData.resourceNames.map((function(e){return{name:e,quantity:0,output:0,outputPerResource:0,advancedQuantity:"0",advancedOutput:"0"}})),this.loadState()},advanceTime:function(e){for(var t=this.resources.length,a=0;a<this.resources.length;a++)if(!this.resources[a].quantity||!this.resources[a].output){t=a+1;break}for(var r=0;r<t;r++){for(var s=0==r?m(this.baseResourceQuantity):this.resources[r-1].quantityNum,n=s,i=t-r-1,o=i;o>0;o--){var u=this.resources[o+r-1].quantity*(1/y(o))*Math.pow(e,o);u=(1-this.critRate)*u+this.critRate*this.critBonus*u;for(var l=0;l<o;l++)u*=this.resources[l+r].outputPerResource;n+=u}0===r?this.baseResourceAdvancedQuantity=g(n):(this.resources[r-1].advancedQuantity=g(n),this.resources[r-1].advancedOutput=g(n*this.resources[r-1].outputPerResource))}},timeUntilTarget:function(){var e=this.targetQuantity,t=this.baseResourceQuantity;if(0!==e)if(t>=e)this.timeToTarget="Already reached";else{for(var a,r=[t-e],s=0;s<this.resources.length;s++){for(var n=this.resources[s].quantity*(1/y(s+1)),i=0;i<=s&&n>0;i++)n*=this.getOutputWithCrit(this.resources[i].outputPerResource);if(!(n>0))break;r.push(n)}if(r.length<2)a=1/0;else if(2===r.length)a=-r[0]/r[1];else{for(var o=[],u=1;u<r.length;u++)o.push(r[u]*u);var l=-r[0]/r[1]/2,c=1/0,d=l,p=0;while(Math.abs(c-d)>1e-8&&p<1e4){p++,c=d;for(var h=0,f=0,b=0;b<r.length;b++)h+=r[b]*Math.pow(c,b+1);for(var v=0;v<o.length;v++)f+=o[v]*Math.pow(c,v+1);d=c-h/f}a=d}if(a!==1/0){var m=Math.floor(a/3600),g=Math.floor(a%3600/60),w=Math.round(a%60);this.timeToTarget="".concat(m,"h ").concat(g,"m ").concat(w,"s")}else this.timeToTarget="Infinity"}else this.timeToTarget="No target"},storeState:function(){var e={resources:this.resources,baseResourceQuantity:this.baseResourceQuantity,critRate:this.critRate,critBonus:this.critBonus,targetQuantity:this.targetQuantity};localStorage.setItem(this.ageData.baseResourceName,JSON.stringify(e))},loadState:function(){var e=localStorage.getItem(this.ageData.baseResourceName);if(null!==e){var t=JSON.parse(e);this.resources=t.resources,this.baseResourceQuantity=t.baseResourceQuantity,this.critRate=t.critRate,this.critBonus=t.critBonus,this.targetQuantity=t.targetQuantity}},getOutputWithCrit:function(e){return(1-this.critRate)*e+this.critRate*this.critBonus*e},multiplyOutput:function(e){e.output=e.output*this.individualMultiplier},divideOutput:function(e){e.output=e.output/this.individualMultiplier},onFieldInput:function(){this.timeUntilTarget(),this.storeState()},multiplyAll:function(e){var t,a=Object(f["a"])(this.resources);try{for(a.s();!(t=a.n()).done;){var r=t.value;r.output=r.output*e}}catch(s){a.e(s)}finally{a.f()}},reset:function(){this.baseResourceQuantity=0,this.critRate=0,this.critBonus=256,this.targetQuantity=0;var e,t=Object(f["a"])(this.resources);try{for(t.s();!(e=t.n()).done;){var a=e.value;a.output=0,a.quantity=0}}catch(r){t.e(r)}finally{t.f()}},getId:function(e){return"".concat(e,"_").concat(this.id)}},computed:{resourceValues:function(){return this.resources.map((function(e){return{quantity:e.quantity,output:e.output}}))},critRatePercent:{get:function(){return 100*this.critRate},set:function(e){this.critRate=e/100}},individualMultiplier:function(){var e;return null!==(e=this.ageData.individualMultiplier)&&void 0!==e?e:2}},watch:{ageData:function(){this.setNewAge()},resourceValues:function(e,t){var a,r=Object(f["a"])(this.resources);try{for(r.s();!(a=r.n()).done;){var s=a.value;0===s.output?s.outputPerResource=0:s.outputPerResource=s.output/s.quantity}}catch(n){r.e(n)}finally{r.f()}this.advanceBy&&this.advanceTime(this.advanceBy),this.targetQuantity&&this.timeUntilTarget(),this.storeState()},advanceBy:function(e){this.advanceTime(e)}}},M=N,S=(a("47a2"),Object(o["a"])(M,b,v,!1,null,"9982bba2",null)),x=S.exports,O={name:"Home",components:{AgeCalculator:x},created:function(){this.age1=this.getAge(localStorage.getItem("SelectedAge1")||"Weapons"),this.age2=this.getAge(localStorage.getItem("SelectedAge2")||"Knowledge")},data:function(){return{advanceBy:0,intervals:[{text:"seconds",value:1},{text:"minutes",value:60},{text:"hours",value:3600}],selectedInterval:3600,age1:null,age2:null,events:[{event:"Main",ages:[{baseResourceName:"Weapons",resourceNames:["Gladiators","Chariots","Arenas","Roads","Spartans","Legionaries","Academies","Aqueducts","Law","Senators","Empires"]},{baseResourceName:"Knowledge",resourceNames:["Monks","Chapels","Knights","Crusaders","Artifacts","Libraries","Bishops","Castles","Kings","Cathedrals"]},{baseResourceName:"Art",resourceNames:["Artists","Galleries","Musketeers","Gadgets","Inventors","Scholars","Observatories","Philosophers","Museums","Universities"]},{baseResourceName:"Machines",resourceNames:["Workers","Foundries","Light Bulbs","Engineers","Trains","Factories","Radios","Airships","Power Plants","Entrepreneurs"]},{baseResourceName:"Science",resourceNames:["Scientists","Labs","Lasers","Robots","Computers","Spies","Televisions","Astronauts","Rockets","Nukes"]}]},{event:"Egypt",ages:[{baseResourceName:"Tools",resourceNames:["Builders","Sleds","Quarries","Obelisks","Sphinxes","Pyramids"]},{baseResourceName:"Hieroglyphics",resourceNames:["Scribes","Papyruses","Priests","Temples","Prophets"]},{baseResourceName:"Urns",resourceNames:["Mummies","Sarcophaguses","Cats","Deities"]}]},{event:"Japan",ages:[{baseResourceName:"Kamas",resourceNames:["Farmers","Paddies","Carts","Festivals","Kabukis","Palaces"],individualMultiplier:3},{baseResourceName:"Katanas",resourceNames:["Ninjas","Black Belts","Dojos","Clans","Shoguns"],individualMultiplier:4},{baseResourceName:"Torii Gates",resourceNames:["Monks","Gardens","Shrines","Dragons"],individualMultiplier:5}]},{event:"Mexico",ages:[{baseResourceName:"Crops",resourceNames:["Corn","Agaves","Chinampas","Aqueducts","Lakes","Merchants"],individualMultiplier:3},{baseResourceName:"Ceramics",resourceNames:["Codices","Paints","Sculptures","Silver","Necklaces"],individualMultiplier:4},{baseResourceName:"Temples",resourceNames:["Murals","Calendars","Step Pyramids","Palaces"],individualMultiplier:5}]}]}},computed:{ageOptions:function(){return this.events.map((function(e){return{label:e.event,options:e.ages.map((function(e){return{text:e.baseResourceName,value:e}}))}}))}},methods:{getAge:function(e){var t,a=Object(f["a"])(this.events);try{for(a.s();!(t=a.n()).done;){var r,s=t.value,n=Object(f["a"])(s.ages);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(i.baseResourceName===e)return i}}catch(o){n.e(o)}finally{n.f()}}}catch(o){a.e(o)}finally{a.f()}},onSelectAge:function(e,t){localStorage.setItem(t,e.baseResourceName)}}},B=O,T=Object(o["a"])(B,p,h,!1,null,null,null),P=T.exports;r["default"].use(d["a"]);var V=[{path:"/",name:"Home",component:P}],Q=new d["a"]({mode:"history",base:"/adventure-ages-calculator/",routes:V}),I=Q;r["default"].config.productionTip=!1,new r["default"]({router:I,render:function(e){return e(c)}}).$mount("#app")},cf2a:function(e,t,a){}});
//# sourceMappingURL=app.3b77f604.js.map